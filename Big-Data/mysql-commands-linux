CREATE TABLE orders_no_pk (
order_id int(11) NOT NULL,
order_date datetime NOT NULL,
order_customer_id int(11) NOT NULL,
order_status varchar(45) NOT NULL
);

INSERT INTO orders_no_pk SELECT order_id, order_date,
order_customer_id, order_status from orders;

CREATE TABLE card_transactions (transaction_id INT,
card_id BIGINT,
member_id BIGINT,
amount INT,
postcode INT,
pos_id BIGINT,
transaction_dt varchar(255), status varchar(255),
PRIMARY KEY (transaction_id));

DROP TABLE card_transactions;

CREATE TABLE card_transactions (
card_id BIGINT,
member_id BIGINT,
amount INT(10),
postcode INT(10),
pos_id BIGINT,
transaction_dt varchar(255),
status varchar(255),
PRIMARY KEY (card_id, transaction_dt)
);


/*Staging table*/
CREATE TABLE card_transactions_stage (
card_id BIGINT,
member_id BIGINT,
amount INT(10),
postcode INT(10),
pos_id BIGINT,
transaction_dt varchar(255),
status varchar(255),
PRIMARY KEY (card_id, transaction_dt)
);

insert into orders values(68884, '2014-07-23 00:00:00', 5522, 'COMPLETE');
commit;

/* insert a new order, update another order */
insert into orders values(68890, current_timestamp, 5523, 'COMPLETE');

update orders set order_status='COMPLETE' and order_date = current_timestamp WHERE ORDER_ID = 68862;
commit;
